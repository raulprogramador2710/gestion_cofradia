{% extends "base.html" %}

{% block title %}Informes Disponibles{% endblock %}

{% block content %}
<div class="container mt-5" style="max-width: 800px;">
  <h2 class="mb-4 text-center"><i class="fa-solid fa-file-lines me-2"></i> Informes disponibles</h2>

  <div class="row g-4">

     <!-- Informe 1 -->
    <div class="col-md-4">
      <div class="card shadow-sm border-0 h-100 text-center informe-card">
        <div class="card-header">
          <i class="fa-solid fa-people-group"></i>
        </div>
        <div class="card-body d-flex flex-column">
          <h5 class="card-title">Todos los Hermanos</h5>
          <p class="text-muted flex-grow-1">
            Listado completo de todos los hermanos de la Cofradía con sus datos personales, de contacto y administrativos.
          </p>
          <a href="{% url 'gestion_cofradia:descargar_informe' 'hermanos_completo' %}" 
            class="btn btn-primary btn-lg w-100">
            <i class="fa-solid fa-download me-2"></i> Descargar
          </a>
        </div>
      </div>
    </div>

    <!-- Informe 2 -->
    <div class="col-md-4">
      <div class="card shadow-sm border-0 h-100 text-center informe-card">
        <div class="card-header">
          <i class="fa-solid fa-user-shield"></i>
        </div>
        <div class="card-body d-flex flex-column">
          <h5 class="card-title">Hermanos por Estado</h5>
          <p class="text-muted flex-grow-1">
            Selecciona un estado para descargar un listado filtrado de hermanos.
          </p>

          <form method="get" action="{% url 'gestion_cofradia:descargar_informe' 'hermanos_por_estado' %}">
            <div class="mb-3">
              <select class="form-select" name="estado" required>
                {% for estado in estados %}
                  <option value="{{ estado.nombre }}">{{ estado.nombre|capfirst }}</option>
                {% endfor %}
              </select>
            </div>
            <button type="submit" class="btn btn-primary w-100">
              <i class="fa-solid fa-download me-2"></i> Descargar
            </button>
          </form>
        </div>
      </div>
    </div>

    <!-- Informe 3 -->
    <div class="col-md-4">
      <div class="card shadow-sm border-0 h-100 text-center informe-card">
        <div class="card-header">
          <i class="fa-solid fa-users"></i>
        </div>
        <div class="card-body d-flex flex-column">
          <h5 class="card-title">Hermanos activos mayores</h5>
          <p class="text-muted flex-grow-1">
            Listado de hermanos con edad superior a 18 años y estado activo en la Cofradía.
          </p>
          <a href="{% url 'gestion_cofradia:descargar_informe' 'hermanos_activos_mayores' %}" 
            class="btn btn-primary btn-lg w-100">
            <i class="fa-solid fa-download me-2"></i> Descargar
          </a>
        </div>
      </div>
    </div>

    <!-- Informe 4 -->
    <div class="col-md-4">
      <div class="card shadow-sm border-0 h-100 text-center informe-card">
        <div class="card-header">
          <i class="fa-solid fa-envelope"></i>
        </div>
        <div class="card-body d-flex flex-column">
          <h5 class="card-title">Carta Postal</h5>
          <p class="text-muted flex-grow-1">
            Listado de hermanos cuya forma de comunicación es exclusivamente por carta postal.
          </p>
          <a href="{% url 'gestion_cofradia:descargar_informe' 'hermanos_carta_postal' %}" 
            class="btn btn-primary btn-lg w-100">
            <i class="fa-solid fa-download me-2"></i> Descargar
          </a>
        </div>
      </div>
    </div>

  </div>

  <div class="text-center mt-5">
    <a href="{% url 'gestion_cofradia:lista_documentos' %}" class="btn btn-cancelar">
      <i class="fa-solid fa-arrow-left me-2"></i> Volver a Documentos
    </a>
  </div>
</div>
{% endblock %}